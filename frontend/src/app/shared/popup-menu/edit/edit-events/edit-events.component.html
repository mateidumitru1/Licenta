<mat-expansion-panel *ngFor="let index of indexes">
  <mat-expansion-panel-header>
    <mat-panel-title>{{ index }}</mat-panel-title>
    <mat-panel-description *ngIf="index !== 'imageUrl' && index !== 'location'">{{ data[index] | truncateText }}</mat-panel-description>
    <mat-panel-description *ngIf="index === 'location'">{{ data[index].name }}</mat-panel-description>
    <mat-panel-description *ngIf="index === 'imageUrl'">
      <img [src]="data[index]" alt="image" width="100" height="100">
    </mat-panel-description>
  </mat-expansion-panel-header>
  <mat-form-field *ngIf="index !== 'imageUrl' && index !== 'date' && index !== 'location'">
    <input matInput [(ngModel)]="toEditData[index]" placeholder="Value">
  </mat-form-field>
  <mat-form-field *ngIf="index ==='date'">
    <input matInput [matDatepicker]="picker" placeholder="Choose a date" [(ngModel)]="toEditData[index]">
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>
  <mat-form-field *ngIf="index === 'location' && locations.length > 0">
    <mat-select [(ngModel)]="toEditData[index]" placeholder="Location">
      <mat-option *ngFor="let location of locations" [value]="location">{{ location.name }}</mat-option>
    </mat-select>
  </mat-form-field>
  <div *ngIf="index === 'imageUrl'">
    <input type="file" accept=".jpg, .jpeg, .png, .bmp" (change)="onFileSelected($event)">
  </div>
</mat-expansion-panel>
<app-edit-buttons [dialogRef]="dialogRef" [data]="toEditData"></app-edit-buttons>
